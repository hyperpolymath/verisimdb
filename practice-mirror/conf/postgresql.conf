# conf/postgresql.conf
# PostgreSQL Configuration for Container

# Connections
listen_addresses = '*'          # Listen on all network interfaces
port = 5432                     # Standard PostgreSQL port
max_connections = 100           # Adjust based on workload

# Resource Usage
# These should be tuned based on available memory and workload
# shared_buffers = 128MB
# effective_cache_size = 512MB
# work_mem = 4MB
# maintenance_work_mem = 64MB
# wal_buffers = 16MB

# Archiving (for recovery, optional for simple container use)
# wal_level = replica             # Minimal level for replica/pitr
# archive_mode = off              # Enable/disable archiving
# archive_command = ''            # Command to use for archiving a logfile segment

# Logging
log_destination = 'stderr'      # Log to standard error for Docker logs
logging_collector = off         # Not needed when logging to stderr
log_directory = 'pg_log'        # (ignored if log_destination is stderr)
log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log' # (ignored if log_destination is stderr)
log_min_duration_statement = -1 # Log all statements
log_line_prefix = '%m [%p] %q%u@%d ' # Log format

# Autovacuum
autovacuum = on                 # Enable autovacuum (default is on)

# Timezone
timezone = 'UTC'                # Use UTC for consistency
